(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{10:function(e,a,t){e.exports={container:"Nothing_container__1KBxl",text:"Nothing_text__2WoAY",icon:"Nothing_icon__24IYi"}},13:function(e,a,t){e.exports={loading__container:"Loading_loading__container__3ZvrV",loading__inner:"Loading_loading__inner__2GmCf",rotate:"Loading_rotate__2N0y7"}},23:function(e,a,t){e.exports={container:"Container_container__2_tWU"}},24:function(e,a,t){e.exports={icon:"IconWeather_icon__2nKoe"}},25:function(e,a,t){e.exports={container:"FiveDay_container__1yZQU"}},30:function(e,a,t){},31:function(e,a,t){},4:function(e,a,t){e.exports={header__title:"Header_header__title__2OZ_o",header__icon:"Header_header__icon__uPBLA",header__input:"Header_header__input__2E7jG",form:"Header_form__3J76R",submit:"Header_submit__2vHWe",mark:"Header_mark__14QkD"}},5:function(e,a,t){e.exports={list:"FiveDayDetail_list__3hjfl",item:"FiveDayDetail_item__1nGq9",date:"FiveDayDetail_date__3CHpi",icon:"FiveDayDetail_icon__37zHY",temp:"FiveDayDetail_temp__rUwoV"}},51:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),c=t(22),i=t.n(c),o=(t(30),t(2)),r=(t(31),t(23)),l=t.n(r),u=t(0),m=function(e){var a=e.children;return Object(u.jsx)("div",{className:l.a.container,children:a})},f=t(8),j=t.n(f),d=function(e){var a=e.text,t=e.onClose;Object(n.useEffect)((function(){var e=function(){t()};return setTimeout(e,3e3),function(){clearTimeout(e)}}),[]);return Object(u.jsxs)("div",{className:j.a.message__container,children:[Object(u.jsx)("span",{onClick:function(){t()},className:j.a.message__close,children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsx)("h2",{className:j.a.message__text,children:a})]})},_=t(4),b=t.n(_),h=function(e){var a=e.city,t=void 0===a?"NaN":a,s=e.onCitySubmit,c=e.onGetLocation,i=Object(n.useState)(!1),r=Object(o.a)(i,2),l=r[0],m=r[1],f=Object(n.useState)(t),j=Object(o.a)(f,2),_=j[0],h=j[1],x=Object(n.useState)(null),p=Object(o.a)(x,2),O=p[0],v=p[1],N=Object(n.useRef)(null),g=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=function(e){var a;(null===g||void 0===g||null===(a=g.current)||void 0===a?void 0:a.contains(e.target))||m(!1)};return l?(document.addEventListener("mousedown",e),N.current.focus()):(document.removeEventListener("mousedown",e),h(t)),function(){document.removeEventListener("mousedown",e)}}),[l,t]);return Object(u.jsxs)("header",{children:[O&&Object(u.jsx)(d,{text:O,onClose:function(){return v(null)}}),Object(u.jsxs)("h1",{className:b.a.header__title,children:[l?Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();/\w/i.test(_)?(s(_),m(!1)):v("Please type something!")},className:b.a.form,ref:g,children:[Object(u.jsx)("input",{ref:N,autoComplete:"off",className:b.a.header__input,value:_,onInput:function(e){return h(e.target.value)},type:"text",name:"city"}),Object(u.jsx)("button",{type:"submit",className:b.a.submit,children:Object(u.jsx)("i",{className:"fas fa-search"})})]}):Object(u.jsxs)("span",{className:b.a.header__text,children:[t,Object(u.jsx)("button",{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){c(e.coords)}),(function(e){v(e.message)}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},type:"submit",className:b.a.mark,children:Object(u.jsx)("i",{className:"fas fa-map-marker-alt"})})]}),!l&&Object(u.jsx)("i",{onClick:function(){return m(!0)},className:"fas fa-pencil-alt ".concat(b.a.header__icon)})]})]})},x=t(24),p=t.n(x),O=function(e){var a=e.weather;return Object(u.jsxs)("div",{className:p.a.icon,children:[5===Math.floor(a/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-rain"}),8===Math.floor(a/100)&&a>=802&&Object(u.jsx)("i",{className:"fas fa-cloud"}),8===Math.floor(a/100)&&800===a&&Object(u.jsx)("i",{className:"fas fa-sun"}),8===Math.floor(a/100)&&801===a&&Object(u.jsx)("i",{className:"fas fa-cloud-sun"}),3===Math.floor(a/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-showers-heavy"}),6===Math.floor(a/100)&&Object(u.jsx)("i",{className:"far fa-snowflake"}),7===Math.floor(a/100)&&Object(u.jsx)("i",{className:"fas fa-smog"}),2===Math.floor(a/100)&&Object(u.jsx)("i",{className:"fas fa-bolt"})]})},v=t(13),N=t.n(v),g=function(){return Object(u.jsx)("div",{className:N.a.loading__container,children:Object(u.jsx)("div",{className:N.a.loading__inner})})},M=t(9),y=t.n(M),w=function(e){var a=e.temp,t=e.maxTemp,n=e.minTemp;return Object(u.jsxs)("div",{className:y.a.text,children:[Object(u.jsxs)("span",{className:y.a.currentTemp,children:[Math.floor(a),"\xb0"]}),Object(u.jsxs)("span",{className:y.a.minMaxTemp,children:[Math.floor(n),"\xb0/",Math.floor(t),"\xb0"]})]})},D=t(25),S=t.n(D),T=t(7),C=t.n(T),E=function(e){var a=e.data;return Object(u.jsx)("ul",{className:C.a.list,children:a.map((function(e,a){var t=new Date(e.dt_txt),n=e.weather[0].id;return Object(u.jsxs)("li",{className:C.a.item,children:[Object(u.jsx)("span",{className:C.a.date,children:t.getDate()}),Object(u.jsxs)("span",{className:C.a.icon,children:[5===Math.floor(n/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-rain"}),8===Math.floor(n/100)&&n>=802&&Object(u.jsx)("i",{className:"fas fa-cloud"}),8===Math.floor(n/100)&&800===n&&Object(u.jsx)("i",{className:"fas fa-sun"}),8===Math.floor(n/100)&&801===n&&Object(u.jsx)("i",{className:"fas fa-cloud-sun"}),3===Math.floor(n/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-showers-heavy"}),6===Math.floor(n/100)&&Object(u.jsx)("i",{className:"far fa-snowflake"}),7===Math.floor(n/100)&&Object(u.jsx)("i",{className:"fas fa-smog"}),2===Math.floor(n/100)&&Object(u.jsx)("i",{className:"fas fa-bolt"})]})]},a)}))})},F=t(5),k=t.n(F),H=function(e){var a=e.data,t=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return}};return Object(u.jsx)("ul",{className:k.a.list,children:a.map((function(e,a){var n=new Date(e.dt_txt),s=e.weather[0].id,c=Math.floor(e.main.temp_min),i=Math.floor(e.main.temp_max);return Object(u.jsxs)("li",{className:k.a.item,children:[Object(u.jsx)("span",{className:k.a.date,children:t(n.getDay())}),Object(u.jsxs)("span",{className:k.a.icon,children:[5===Math.floor(s/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-rain"}),8===Math.floor(s/100)&&s>=802&&Object(u.jsx)("i",{className:"fas fa-cloud"}),8===Math.floor(s/100)&&800===s&&Object(u.jsx)("i",{className:"fas fa-sun"}),8===Math.floor(s/100)&&801===s&&Object(u.jsx)("i",{className:"fas fa-cloud-sun"}),3===Math.floor(s/100)&&Object(u.jsx)("i",{className:"fas fa-cloud-showers-heavy"}),6===Math.floor(s/100)&&Object(u.jsx)("i",{className:"far fa-snowflake"}),7===Math.floor(s/100)&&Object(u.jsx)("i",{className:"fas fa-smog"}),2===Math.floor(s/100)&&Object(u.jsx)("i",{className:"fas fa-bolt"})]}),Object(u.jsxs)("span",{className:k.a.temp,children:[c,"\xb0 ",i,"\xb0"]})]},a)}))})},L=function(e){var a=e.data;return Object(u.jsxs)("div",{className:S.a.container,children:[Object(u.jsx)(E,{data:a}),Object(u.jsx)(H,{data:a})]})},W=t(10),A=t.n(W),G=function(e){var a=e.text;return Object(u.jsxs)("div",{className:A.a.container,children:[Object(u.jsx)("h1",{className:A.a.text,children:a}),Object(u.jsx)("div",{className:A.a.icon,children:Object(u.jsx)("i",{className:"fas fa-globe-asia"})})]})},P=t(11),Y=t(6),q=t.n(Y),I="eca7e6733e8466758e1fb55fc917a29f",B=function(e,a){var t=[];return e.forEach((function(e){var n=[];a.forEach((function(a){e.dt_txt.split(" ")[0]===a.dt_txt.split(" ")[0]&&n.push(a)})),t.push(n)})),t.map((function(e){return function(e){var a=e.reduce((function(e,a){return a.main.temp_min<e?a.main.temp_min:e}),e[0].main.temp_min),t=e.reduce((function(e,a){return a.main.temp_max>e?a.main.temp_min:e}),e[0].main.temp_max);return e[0].main=Object(P.a)(Object(P.a)({},e[0].main),{},{temp_min:a,temp_max:t}),Object(P.a)({},e[0])}(e)}))},J=function(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),r=i[0],l=i[1],u=Object(n.useState)(null),m=Object(o.a)(u,2),f=m[0],j=m[1],d=Object(n.useState)(null),_=Object(o.a)(d,2),b=_[0],h=_[1];return[function(e){l(!0),Promise.all([q.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat(I,"&lang=vi&units=metric")),q.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(I,"&units=metric&lang=vi"))]).then((function(e){var a=Object(o.a)(e,2),t=a[0],n=a[1],c=[];for(t.data.list.forEach((function(e){c.find((function(a){return e.dt_txt.split(" ")[0]===a.dt_txt.split(" ")[0]}))||c.push(e)}));c.length>5;)c.pop();var i=B(c,t.data.list);i[0].weather=n.data.weather,s(i),j(n.data),l(!1)})).catch((function(e){console.log(e.response.data.message),h(e.response.data.message),l(!1)}))},t,r,f,b,h]},Q=function(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),r=i[0],l=i[1];return[t,r,function(e){l(!0),s(null),q.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(Number(e.latitude).toFixed(2),"&lon=").concat(Number(e.longitude).toFixed(2),"&appid=").concat("eca7e6733e8466758e1fb55fc917a29f","&lang=vi")).then((function(e){s(e.data.name),l(!1)})).catch((function(e){console.log(e),l(!1)}))}]};var R=function(){var e,a,t,s,c=J(),i=Object(o.a)(c,6),r=i[0],l=i[1],f=i[2],j=i[3],_=i[4],b=i[5],x=Q(),p=Object(o.a)(x,3),v=p[0],N=p[1],M=p[2],y=Object(n.useState)(null),D=Object(o.a)(y,2),S=D[0],T=D[1];return Object(n.useEffect)((function(){S&&r(S)}),[S]),Object(n.useEffect)((function(){v&&T(v)}),[v]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(m,{children:[Object(u.jsx)(h,{city:null===j||void 0===j?void 0:j.name,onCitySubmit:function(e){T(e)},onGetLocation:function(e){M(e)}}),f||N?Object(u.jsx)(g,{}):j?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{weather:j.weather[0].id}),Object(u.jsx)(w,{temp:j.main.temp,minTemp:null===(e=l[0])||void 0===e||null===(a=e.main)||void 0===a?void 0:a.temp_min,maxTemp:null===(t=l[0])||void 0===t||null===(s=t.main)||void 0===s?void 0:s.temp_max}),Object(u.jsx)(L,{data:l})]}):Object(u.jsx)(G,{text:"Open location service or Enter the city"}),_&&Object(u.jsx)(d,{text:_,onClose:function(){return b(null)}})]})})};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(R,{})}),document.getElementById("root"))},7:function(e,a,t){e.exports={list:"FiveDaySummary_list__2s0mD",date:"FiveDaySummary_date__2P-hf",icon:"FiveDaySummary_icon__3TDMq"}},8:function(e,a,t){e.exports={message__container:"Message_message__container__24V1X",message__text:"Message_message__text__3CEu3",message__close:"Message_message__close__1Fjmo"}},9:function(e,a,t){e.exports={text:"Temp_text__ode7p",currentTemp:"Temp_currentTemp__3pu5s",minMaxTemp:"Temp_minMaxTemp__2QYWY"}}},[[51,1,2]]]);
//# sourceMappingURL=main.1a381ac8.chunk.js.map